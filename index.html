<!DOCTYPE html>
<html>
<head>
	<title>Bounce Menu | CreativeDash</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="style.css">

</head>
<body>

	
			<div class="menu">
				<ul>
					<li class="lock"><a href="">Lock</a></li>
					<li class="share"><a href="">Share</a></li>
					<li class="download"><a href="">Download</a></li>
				</ul>
			</div>
			<div class="toggle">
				<div class="x"></div>
				<div class="y"></div>
			</div>
			<div class="content">
            <div class="news-item">
            	<div class="news-item-content">
	                <h2>Dit is een Item</h2>
                    <img src="frankwatching.png">
    	            
        	        <p>orem ipsum dolor sit amet, consectetur adipiscing elit. Nullam nec felis ligula. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>
            	</div>
                <div class="user">
                	<img class="user-img" src="profiel-peter.png">
               		<span>Peter Peerdeman</span>
                </div>
            </div>
            
            </div>
	
	
	<script src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script src="menu.js"></script>
    <script> 
		
	/*	Define Click Event for Mobile
	---------------------------------------------------------------------- */
	if( 'ontouchstart' in window ){ var click = 'touchstart'; }
	else { var click = 'click'; }


	/*	Click menu toggle
	---------------------------------------------------------------------- */
	$('div.toggle').on(click, function(){
		if( flag ){
			if( !$(this).hasClass('minus') ){ openMenu(); } 
			else { closeMenu(); }
		}
	});
	
	
	/*	Click menu icons
	---------------------------------------------------------------------- */
	$('div.menu ul li a').on(click, function(e){
		e.preventDefault();
		closeMenu();
	});
	
	
	/*	Open/ Close Menu Functions
	---------------------------------------------------------------------- */
	var flag = true; // Prevent menu change while animating
	function openMenu(){
		flag = false;
		
		// Remove circle
		$('div.circle').remove();
					
		// Update toggle
		$('div.toggle').addClass('minus');
		$('div.y').addClass('minus');
		setTimeout(function(){ $('div.x').addClass('stretch'); }, 100);
		setTimeout(function(){ $('div.x').removeClass('stretch'); }, 300);
		
		// Move content
		$('div.content').addClass('bounce');
		setTimeout(function(){ $('div.content').removeClass('bounce').addClass('open'); }, 250);
		
		// Animate menu icons
		$('div.menu ul li').addClass('animate');
		$('div.menu ul li').addClass('move');
		setTimeout(function(){ $('div.menu ul li').addClass('color'); }, 200);
		setTimeout(function(){ flag = true; }, 400);
	}
	
	function closeMenu(){
		flag = false;
				
		// Update toggle
		$('div.toggle').removeClass('minus');
		$('div.y').removeClass('minus');
		$('div.x').addClass('shrink');
		setTimeout(function(){ $('div.x').removeClass('shrink'); }, 200);
		
		// Move content
		$('div.content').removeClass('open');
		
		// Reset menu icons
		setTimeout(function(){					
			$('div.menu ul li').removeClass('animate');
			$('div.menu ul li').removeClass('color move');
			flag = true;
		}, 300);
	}
	</script>
</body>

</html>
